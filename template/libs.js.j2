const { spawn } = require('child_process')

let run = (command, cwd) => {
  return new Promise((resolve, reject) => {
    const process = spawn(command.split(" ").shift(), command.split(" ").splice(1), { stdio: "inherit", cwd, shell: true })
    process.on('close', code => code !== 0 ? reject(code) : resolve(0))
  })
}

module.exports = {
  run
}
